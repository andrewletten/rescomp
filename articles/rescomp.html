<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rescomp: An R package for efficient ODE modelling of resource competition • rescomp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="rescomp: An R package for efficient ODE modelling of resource competition">
<meta property="og:description" content="rescomp">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">rescomp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/rescomp.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/classic-results.html">Classic results with rescomp</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="rescomp_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>rescomp: An R package for efficient ODE modelling of resource competition</h1>
                        <h4 class="author">Andrew D. Letten</h4>
            
      
      
      <div class="hidden name"><code>rescomp.Rmd</code></div>

    </div>

    
    
<p><code>rescomp</code> is an R package for generating, simulating and visualising ODE models of consumer-resource interactions. In essence, it is a consumer-resource modelling focused interface to the canonical <code>deSolve</code> package.</p>
<div id="model-formulation" class="section level1">
<h1 class="hasAnchor">
<a href="#model-formulation" class="anchor"></a>Model formulation</h1>
<p>All <code>rescomp</code> models take the general form,</p>
<p><span class="math display">\[
\frac{dN_{i}}{dt} = N_{i}(\mu_{i}(R_{1},R_{2},...)-m) \,,
\]</span></p>
<p><span class="math display">\[
\frac{dR_{j}}{dt} = \Psi_{j} (R_{j}) - \sum_{i = 1}^{n}Q_{ij} \mu_{ij}(R_j) N_i \,,
\]</span></p>
<p>where <span class="math inline">\(N_{i}\)</span> is the population density of consumer <span class="math inline">\(i\)</span>, <span class="math inline">\(R_{j}\)</span> is the density/concentration of resource <span class="math inline">\(j\)</span>, <span class="math inline">\(\mu_{i}()\)</span> is the per capita consumer functional response of consumer <span class="math inline">\(i\)</span>, <span class="math inline">\(m\)</span> is the per capita mortality rate (constant or pulsed), <span class="math inline">\(\Psi_{j}(R_j)\)</span> is the resource supply function, and <span class="math inline">\(Q_{ij}\)</span> is the resource quota of consumer <span class="math inline">\(i\)</span> on resource <span class="math inline">\(j\)</span>.</p>
<p>From this general form, different model formulations are distinguished by: i) the number of consumers/resources; ii) the form of the consumer functional response; iii) the mode of resource supply; iv) the type of resource; and v) any non-autonomous behaviour including instantaneous changes in consumer/resource density and/or time dependent model parameters.</p>
<p>The consumer growth function can take one of three forms:</p>
<ol style="list-style-type: lower-roman">
<li>linear (type I),</li>
</ol>
<p><span class="math display">\[
\mu_{ij}(R_{j}) = a_{ij}R_{j} \,,
\]</span></p>
<p>where <span class="math inline">\(a_{ij}\)</span> is a constant of proportionality;</p>
<ol start="2" style="list-style-type: lower-roman">
<li>nonlinear type II (aka Monod),</li>
</ol>
<p><span class="math display">\[
\mu_{ij}(R_{j}) = \mu _{max_{ij}}\frac{R_{j}}{k_{ij} + R_{j}} \,,
\]</span></p>
<p>where <span class="math inline">\(\mu_{max_{ij}}\)</span> is the maximum growth rate and <span class="math inline">\(k_{ij}\)</span> is the half saturation constant for consumer <span class="math inline">\(i\)</span> on resource <span class="math inline">\(j\)</span>; or</p>
<ol start="3" style="list-style-type: lower-roman">
<li>nonlinear type III,</li>
</ol>
<p><span class="math display">\[
\mu_{ij}(R_{j}) = \mu _{max_{ij}}\frac{R_{j}^2}{k_{ij}^2 + R_{j}^2} \,.
\]</span></p>
<p>In all three cases, the functional response is either assumed to be constant or variable through time (the latter is mediated by time dependent formulations of <span class="math inline">\(a_{ij}\)</span> (type I) or <span class="math inline">\(\mu_{max_{ij}}\)</span> (type II &amp; III).</p>
<p>The resource supply function, <span class="math inline">\(\Psi_{j}(R_j)\)</span>, can also take several forms. Specifically, either the resources are biological and grow logistically,</p>
<p><span class="math display">\[
\Psi_{j} (R_{j}) = r_{j}R_{j}\left(1-\frac{R_{j}}{K_{j}}\right) \,,
\]</span></p>
<p>where <span class="math inline">\(r_j\)</span> is the resource intrinsic rate of increase and <span class="math inline">\(K_j\)</span> is the resource carrying capacity;</p>
<p>Or the resources are supplied to the systems at a fixed concentration and rate (as in a chemostat),</p>
<p><span class="math display">\[
\Psi_{j} (R_{j}) = d(S_{j} - R_{j}) \,,
\]</span></p>
<p>where  represents the flux of resources into and out of the system.</p>
<p>Or the resources are pulsed intermittently (see below).</p>
<p>In the case of multiple resources, each resource is either treated as essential to consumer growth following Leibig’s law of the minimum, in which case,</p>
<p><span class="math display">\[
\mu_{i}(R_{1}, R_{2},...,R_{n}) = min(\mu_{i}(R_{1}), \mu_{i}(R_{2}),..., \mu_{i}(R_{n})) \,;
\]</span></p>
<p>or substitutable such that:</p>
<p><span class="math display">\[
\mu_{i}(R_{1}, R_{2},...,R_{n}) = \mu_{i}(R_{1}) + \mu_{i}(R_{2}) + ... + \mu_{i}(R_{n}) \,.
\]</span></p>
<p>The model specification also allows for instantaneous changes in consumer and resource state variables, e.g. in batch transfer (further details in examples below).</p>
</div>
<div id="using-rescomp" class="section level1">
<h1 class="hasAnchor">
<a href="#using-rescomp" class="anchor"></a>Using <code>rescomp</code>
</h1>
<p>The main user function in <code>rescomp</code> is <code><a href="../reference/spec_rescomp.html">spec_rescomp()</a></code>, which facilitates the definition and parameterisation of a desired model and the specification of simulation parameters. Function arguments include (but are not limited to):</p>
<ul>
<li>Number of consumers/resources</li>
<li>Consumer functional response (type I, II or II)</li>
<li>Resource dynamic (chemostat, logistic and/or pulsed)</li>
<li>Resource type (substitutable or essential)</li>
<li>Continuous or intermittent mortality (e.g. serial transfer)</li>
<li>Time dependent consumption parameters</li>
</ul>
<p>See <code><a href="../reference/spec_rescomp.html">?spec_rescomp</a></code> for all argument options.</p>
<p><strong>Examples demonstrated in this vignette include:</strong></p>
<ul>
<li>One type 2 consumer and one logistically growing resource</li>
<li>One type 2 consumer and one continuously supplied resource (i.e. chemostat)</li>
<li>Two type 2 consumers and one logistically growing resource</li>
<li>Two type 1 consumers and two substitutable resources in a chemostat</li>
<li>Two type 1 consumers and two essential resources in a chemostat</li>
<li>Two type 2 consumers and one externally pulsed resource
<ul>
<li>Continuous mortality</li>
<li>Serial transfer in batch culture (intermittent mortality)</li>
</ul>
</li>
<li>Two type 2 consumers with time dependent consumption parameters and one continuously supplied resource</li>
<li>Three type 1 consumers on three essential resources generating an intransitive loop (i.e. rock paper scissors dynamics).</li>
</ul>
<div id="type-2-consumer-on-a-logistically-growing-resource" class="section level2">
<h2 class="hasAnchor">
<a href="#type-2-consumer-on-a-logistically-growing-resource" class="anchor"></a>Type 2 consumer on a logistically growing resource</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rescomp</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">1</span>, 
  resnum <span class="op">=</span> <span class="fl">1</span>,
  funcresp <span class="op">=</span> <span class="st">"type2"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0.12</span><span class="op">)</span><span class="op">)</span>,
  chemo <span class="op">=</span> <span class="cn">FALSE</span>,
  resspeed <span class="op">=</span> <span class="fl">3</span>,
  resconc <span class="op">=</span> <span class="fl">2</span>,
  totaltime <span class="op">=</span> <span class="fl">500</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 1 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 2 functional responses</span>
<span class="co">#&gt;  * Resources grow logistically</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 500 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10], resource(s) = [2]</span></code></pre></div>
<p>Visualise functional responses with <code><a href="../reference/plot_funcresp.html">rescomp::plot_funcresp</a></code>. Faceted by resources and time dependent parameterisations (when relevant).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-3-1.png" width="384"></p>
<p>The model can then be simulated with <code><a href="../reference/sim_rescomp.html">rescomp::sim_rescomp</a></code>. <code>sim_rescomp</code> is a wrapper to <code><a href="https://rdrr.io/pkg/deSolve/man/ode.html">deSolve::ode</a></code> that takes the output from <code>spec_rescomp</code> as its main argument.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<p><code>plot_cr_sim</code> plots the output dynamics.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-5-1.png" width="576"></p>
<p>Note the total simulation time and initial state variables given by <code>parms</code> can be overidden in <code>sim_recomp</code> with the arguments <code>times</code> and <code>y</code>, respectively. This will nevertheless print a message to make sure it is intentional. See <code><a href="../reference/time_vals.html">?rescomp::time_vals</a></code> for convenient specification of simulation time (and pulsing when used).</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span>, y <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">30000</span>, <span class="fl">1</span><span class="op">)</span>, times <span class="op">=</span> <span class="fu"><a href="../reference/time_vals.html">time_vals</a></span><span class="op">(</span><span class="fl">200</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; totaltime in pars will be overidden</span>
<span class="co">#&gt; cinit in pars will be overidden</span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-7-1.png" width="576"></p>
<!-- The function `time_vals` is used for setting total simulation time (and is used to set the resource pulse interval when used in conjunction with an event function [see below]). The function `initiate_state` sets the starting values of state variables defaulting to 10 for consumers and the resource supply concentration for resources. -->
</div>
<div id="type-2-consumer-on-a-continuously-suppplied-resource" class="section level2">
<h2 class="hasAnchor">
<a href="#type-2-consumer-on-a-continuously-suppplied-resource" class="anchor"></a>Type 2 consumer on a continuously suppplied resource</h2>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">1</span>, 
  resnum <span class="op">=</span> <span class="fl">1</span>,
  funcresp <span class="op">=</span> <span class="st">"type2"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fl">0.12</span><span class="op">)</span><span class="op">)</span>,
  resspeed <span class="op">=</span> <span class="fl">0.03</span>,
  resconc <span class="op">=</span> <span class="fl">2</span>,
  totaltime <span class="op">=</span> <span class="fl">300</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 1 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 2 functional responses</span>
<span class="co">#&gt;  * Resource supply is continuous (e.g. chemostat)</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 300 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10], resource(s) = [2]</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-10-1.png" width="576"></p>
</div>
<div id="two-type-2-consumers-on-a-logistically-growing-resource" class="section level2">
<h2 class="hasAnchor">
<a href="#two-type-2-consumers-on-a-logistically-growing-resource" class="anchor"></a>Two type 2 consumers on a logistically growing resource</h2>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">2</span>, 
  resnum <span class="op">=</span> <span class="fl">1</span>,
  funcresp <span class="op">=</span> <span class="st">"type2"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>,<span class="fl">0.05</span><span class="op">)</span>, 
                    nrow <span class="op">=</span> <span class="fl">2</span>, 
                    ncol <span class="op">=</span> <span class="fl">1</span>,
                    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  kmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0.015</span><span class="op">)</span>, 
                   nrow <span class="op">=</span> <span class="fl">2</span>, 
                   ncol <span class="op">=</span> <span class="fl">1</span>, 
                   byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,  
  chemo <span class="op">=</span> <span class="cn">FALSE</span>,
  resspeed <span class="op">=</span> <span class="fl">1</span>,
  resconc <span class="op">=</span> <span class="fl">0.2</span>,
  totaltime <span class="op">=</span> <span class="fl">2000</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 2 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 2 functional responses</span>
<span class="co">#&gt;  * Resources grow logistically</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 2000 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10], resource(s) = [0.2]</span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-12-1.png" width="384"></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-14-1.png" width="576"></p>
<p>Owing to the trade-off in functional responses (gleaner-opportunist) and resource fluctuations generated by N2, the two consumers are able to coexist via the coexistence mechanism known as ‘relative nonlinearity of competition’.</p>
</div>
<div id="two-type-1-consumers-and-two-substitutable-resources-in-a-chemostat" class="section level2">
<h2 class="hasAnchor">
<a href="#two-type-1-consumers-and-two-substitutable-resources-in-a-chemostat" class="anchor"></a>Two type 1 consumers and two substitutable resources in a chemostat</h2>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">2</span>, 
  resnum <span class="op">=</span> <span class="fl">2</span>,
  funcresp <span class="op">=</span> <span class="st">"type1"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.09</span>,<span class="fl">0.04</span>,
                           <span class="fl">0.05</span>,<span class="fl">0.08</span><span class="op">)</span>, 
                    nrow <span class="op">=</span> <span class="fl">2</span>, 
                    ncol <span class="op">=</span> <span class="fl">2</span>,
                    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  resspeed <span class="op">=</span> <span class="fl">0.03</span>,
  resconc <span class="op">=</span> <span class="fl">1</span>,
  mort <span class="op">=</span> <span class="fl">0.03</span>,
  essential <span class="op">=</span> <span class="cn">FALSE</span>,
  totaltime <span class="op">=</span> <span class="fl">1000</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 2 consumer(s) and 2 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 1 functional responses</span>
<span class="co">#&gt;  * Resources are substitutable</span>
<span class="co">#&gt;  * Resource supply is continuous (e.g. chemostat)</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 1000 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10], resource(s) = [1, 1]</span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-16-1.png" width="576"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-18-1.png" width="576"></p>
<p>Resource partitioning, where each consumer is a better competitor (lower R*) for a different resource, results in coexistence.</p>
</div>
<div id="two-type-1-consumers-and-two-essential-resources-in-a-chemostat" class="section level2">
<h2 class="hasAnchor">
<a href="#two-type-1-consumers-and-two-essential-resources-in-a-chemostat" class="anchor"></a>Two type 1 consumers and two essential resources in a chemostat</h2>
<p>Using <code>pars$essential = TRUE</code> switches the previous parameteristion to essential resources while keeping all else equal.</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span><span class="op">$</span><span class="va">essential</span> <span class="op">=</span> <span class="cn">TRUE</span>
<span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span> </code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-20-1.png" width="576"></p>
<p>There is no coexistence now because each species needs to have a larger impact on the resource that is most limiting its growth. For ‘consumer 1’ it is ‘resource b’, whereas for ‘consumer 2’ it is ‘resource a’. We can adjust consumer resource impacts via the resource quota matrix.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">2</span>, 
  resnum <span class="op">=</span> <span class="fl">2</span>,
  funcresp <span class="op">=</span> <span class="st">"type1"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.09</span>, <span class="fl">0.04</span>,
                           <span class="fl">0.05</span>, <span class="fl">0.08</span><span class="op">)</span>, 
                    nrow <span class="op">=</span> <span class="fl">2</span>, 
                    ncol <span class="op">=</span> <span class="fl">2</span>,
                    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  qmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.001</span>, <span class="fl">0.005</span>,
                     <span class="fl">0.005</span>, <span class="fl">0.001</span><span class="op">)</span>,
                   nrow <span class="op">=</span> <span class="fl">2</span>,
                   ncol <span class="op">=</span> <span class="fl">2</span>,
                   byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  resspeed <span class="op">=</span> <span class="fl">0.03</span>,
  resconc <span class="op">=</span> <span class="fl">1</span>,
  mort <span class="op">=</span> <span class="fl">0.03</span>,
  essential <span class="op">=</span> <span class="cn">TRUE</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 2 consumer(s) and 2 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 1 functional responses</span>
<span class="co">#&gt;  * Resources are essential</span>
<span class="co">#&gt;  * Resource supply is continuous (e.g. chemostat)</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 1000 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10], resource(s) = [1, 1]</span></code></pre></div>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span> </code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-23-1.png" width="576"></p>
</div>
<div id="two-type-2-consumers-and-one-externally-pulsed-resource-continuous-mortality" class="section level2">
<h2 class="hasAnchor">
<a href="#two-type-2-consumers-and-one-externally-pulsed-resource-continuous-mortality" class="anchor"></a>Two type 2 consumers and one externally pulsed resource (continuous mortality)</h2>
<p>External resource pulsing is handled using an event function, <code><a href="../reference/eventfun_respulse.html">rescomp::eventfun_respulse</a></code>, which is passed in a list to <code><a href="https://rdrr.io/pkg/deSolve/man/ode.html">deSolve::ode</a></code>. The size of the resource pulse is specified as a numeric with the argument <code>respulse</code> in the call to <code>spec_rescomp</code>. To prevent any other mode of resource supply, <code>resspeed</code> should be set to zero. The frequency of pulsing is set with the <code>pulse</code> argument in <code><a href="../reference/time_vals.html">rescomp::time_vals</a></code>. The resultant vector of pusling intervals should be included in the same list containing the event function.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">2</span>, 
  resnum <span class="op">=</span> <span class="fl">1</span>,
  funcresp <span class="op">=</span> <span class="st">"type2"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.7</span>,<span class="fl">0.05</span><span class="op">)</span>, 
                    nrow <span class="op">=</span> <span class="fl">2</span>, 
                    ncol <span class="op">=</span> <span class="fl">1</span>,
                    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  kmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">0.015</span><span class="op">)</span>, 
                   nrow <span class="op">=</span> <span class="fl">2</span>, 
                   ncol <span class="op">=</span> <span class="fl">1</span>, 
                   byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,  
  resspeed <span class="op">=</span> <span class="fl">0</span>, <span class="co"># set to zero for no additional resource supply </span>
  resconc <span class="op">=</span> <span class="fl">0.2</span>,
  respulse <span class="op">=</span> <span class="fl">0.3</span>,
  pulsefreq <span class="op">=</span> <span class="fl">100</span><span class="co"># resource pulse size</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 2 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 2 functional responses</span>
<span class="co">#&gt;  * Resource supply is pulsed only</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 1000 time steps</span>
<span class="co">#&gt;  * Resources pulsing every 100 timesteps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10], resource(s) = [0.2]</span></code></pre></div>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">pars</span><span class="op">$</span><span class="va">respulse</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-25-1.png" width="384"></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-27-1.png" width="576"></p>
</div>
<div id="two-type-2-consumers-and-one-externally-pulsed-resource-serial-transfer-with-pulsed-mortality" class="section level2">
<h2 class="hasAnchor">
<a href="#two-type-2-consumers-and-one-externally-pulsed-resource-serial-transfer-with-pulsed-mortality" class="anchor"></a>Two type 2 consumers and one externally pulsed resource (serial transfer with pulsed mortality)</h2>
<p>Serial transfer in batch culture differs from the above scenario in that resource pulses are typically accompanied by large instantaneous changes in population density. For an example, in a serial transfer experiment with bacteria, an experimenter might sample a fraction (e.g. 10%) of the community every 24 hours and inoculate that fraction intro fresh media. As such, the consumer population density immediately following a transfer event will be equal to: <span class="math inline">\((1-M)N_{i}\)</span>, where <span class="math inline">\(M\)</span> is instantaneous mortality fraction given by <code>mortpulse</code>.</p>
<p>Simulating serial transfer in batch culture is implemented by:</p>
<ol style="list-style-type: decimal">
<li>Using <code>batchtrans = TRUE</code> in <code><a href="../reference/spec_rescomp.html">rescomp::spec_rescomp</a></code>.</li>
<li>Assigning a value from 0 to 1 for the argument <code>mortpulse</code>. This is the fraction of the consumer(s) population instantaneous ‘killed’ at set intervals. Note the transfer fraction = 1 - <code>mortpulse</code>.</li>
<li>Setting the serial transfer schedule with the <code>pulse</code> argument in <code><a href="../reference/time_vals.html">rescomp::time_vals</a></code> (coincident with resource pulse intervals).</li>
</ol>
<p>Note that the effect of setting <code>batchtrans = TRUE</code> is to enforce fractional sampling of the resource/media in addition to the consumers. As such, immediately after a transfer event the resource concentration will be equal to: <span class="math inline">\((1-M)R_{j} + MS_{j}\)</span>, where <span class="math inline">\(R\)</span> is the resource concentration prior to transfer, and <span class="math inline">\(S\)</span> is the resource pulse size given by <code>respulse</code>. To inhibit the behaviour, i.e. to stop fractional sampling of the resource but maintain intermittent mortality use <code>batchtrans = FALSE</code> but still assign a non-zero value for <code>mortpulse</code>.</p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">2</span>, 
  resnum <span class="op">=</span> <span class="fl">1</span>,
  funcresp <span class="op">=</span> <span class="st">"type2"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.2</span><span class="op">)</span>, 
                         nrow <span class="op">=</span> <span class="fl">2</span>, 
                         ncol <span class="op">=</span> <span class="fl">1</span>,
                         byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  kmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>, <span class="fl">0.2</span><span class="op">)</span>, 
                   nrow <span class="op">=</span> <span class="fl">2</span>, 
                   ncol <span class="op">=</span> <span class="fl">1</span>, 
                   byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,  
  resspeed <span class="op">=</span> <span class="fl">0</span>, <span class="co"># set to zero for no additional resource supply </span>
  resconc <span class="op">=</span> <span class="fl">0.6</span>,
  respulse <span class="op">=</span> <span class="fl">1</span>,
  mort <span class="op">=</span> <span class="fl">0</span>, <span class="co"># set to zero to make the transfer fraction the effective mortality rate</span>
  mortpulse <span class="op">=</span> <span class="fl">0.8</span>,
  batchtrans <span class="op">=</span> <span class="cn">TRUE</span>,
  pulsefreq <span class="op">=</span> <span class="fl">100</span>,
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 2 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 2 functional responses</span>
<span class="co">#&gt;  * Resource supply is pulsed only</span>
<span class="co">#&gt;  * Mortality intermittent</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 1000 time steps</span>
<span class="co">#&gt;  * Resources pulsing and intermittent mortality every 100 timesteps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10], resource(s) = [0.6]</span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">pars</span><span class="op">$</span><span class="va">respulse</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-29-1.png" width="384"></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-31-1.png" width="576"></p>
<p>Note, to reproduce the dynamics of a single batch culture experiment (i.e. without serial transfer) as potentially measured via optical density in a plate reader (negligible or unobserved mortality), simply set both <code>resspeed</code> and <code>mort</code> to zero.</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>resspeed <span class="op">=</span> <span class="fl">0</span>, mort <span class="op">=</span> <span class="fl">0</span>, totaltime <span class="op">=</span> <span class="fl">500</span><span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 1 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 1 functional responses</span>
<span class="co">#&gt;  * Resources are not supplied?!</span>
<span class="co">#&gt;  * No mortality</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 500 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10], resource(s) = [1]</span>
<span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-33-1.png" width="576"></p>
</div>
<div id="two-type-2-consumers-with-time-dependent-consumption-parameters-and-one-continuously-supplied-resource" class="section level2">
<h2 class="hasAnchor">
<a href="#two-type-2-consumers-with-time-dependent-consumption-parameters-and-one-continuously-supplied-resource" class="anchor"></a>Two type 2 consumers with time dependent consumption parameters and one continuously supplied resource</h2>
<p>Using time dependent consumption parameters is appropriate for capturing basic consumer-environment interactions (e.g. differential responses to temperature, pH, antibiotics etc.). Time varying parameters can be implemented in <code>deSolve</code> with forcing functions. <code>rescomp</code> provides a convenient means of implementing forcing functions in the background. Two additional arguments are needed in <code>spec_rescomp</code>: <code>timepars</code> and <code>timeparfreq</code>. <code>timepars</code> should be set to <code>TRUE</code>; <code>timeparfreq</code> adjusts the frequency of switching between ‘environmental states’.</p>
<p>In addition, if <code>time_pars = TRUE</code>, the mumatrix argument in <code>spec_rescomp</code> expects a list containing two matrices, reflecting two different environmental states. At this stage <code>rescomp</code> only handles two states with equal time allotted to each state.</p>
<!-- or a linear transition between states -->
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">2</span>, 
  resnum <span class="op">=</span> <span class="fl">1</span>,
  funcresp <span class="op">=</span> <span class="st">"type2"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.3</span>,<span class="fl">0.1</span><span class="op">)</span>, 
                    nrow <span class="op">=</span> <span class="fl">2</span>, 
                    ncol <span class="op">=</span> <span class="fl">1</span>,
                    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
                  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.2</span>,<span class="fl">0.5</span><span class="op">)</span>, 
                    nrow <span class="op">=</span> <span class="fl">2</span>, 
                    ncol <span class="op">=</span> <span class="fl">1</span>,
                    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  kmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.1</span>, <span class="fl">0.1</span><span class="op">)</span>, 
                   nrow <span class="op">=</span> <span class="fl">2</span>, 
                   ncol <span class="op">=</span> <span class="fl">1</span>, 
                   byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,  

  chemo <span class="op">=</span> <span class="cn">TRUE</span>,
  resspeed <span class="op">=</span> <span class="fl">0.03</span>,
  resconc <span class="op">=</span> <span class="fl">0.1</span>,
  timepars <span class="op">=</span> <span class="cn">TRUE</span>,
  timeparfreq <span class="op">=</span> <span class="fl">50</span>,
  totaltime <span class="op">=</span> <span class="fl">2000</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 2 consumer(s) and 1 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 2 functional responses</span>
<span class="co">#&gt;  * Resource supply is continuous (e.g. chemostat)</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt;  * Time dependent parameters with instantaneous switching every 50 timesteps</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 2000 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10], resource(s) = [0.1]</span></code></pre></div>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">pars</span><span class="op">$</span><span class="va">resconc</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-35-1.png" width="384"></p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-37-1.png" width="576"></p>
<p>The two consumers coexist due species-specific environmental responses leading to a temporal storage effect (formalization of temporal niche paritioning arising from density dependence in environment-competition covariance) (ref).</p>
</div>
<div id="three-type-1-consumers-on-three-essential-resources-generating-an-intransitive-loop-i-e--rock-paper-scissors-dynamics-" class="section level2">
<h2 class="hasAnchor">
<a href="#three-type-1-consumers-on-three-essential-resources-generating-an-intransitive-loop-i-e--rock-paper-scissors-dynamics-" class="anchor"></a>Three type 1 consumers on three essential resources generating an intransitive loop (i.e. rock paper scissors dynamics).</h2>
<div class="sourceCode" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">pars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/spec_rescomp.html">spec_rescomp</a></span><span class="op">(</span>
  spnum <span class="op">=</span> <span class="fl">3</span>, 
  resnum <span class="op">=</span> <span class="fl">3</span>,
  funcresp <span class="op">=</span> <span class="st">"type1"</span>,
  mumatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="fl">0.11</span>, <span class="fl">0.07</span>,  <span class="fl">0.045</span>,
    <span class="fl">0.05</span>, <span class="fl">0.11</span>,  <span class="fl">0.07</span>,
    <span class="fl">0.07</span>, <span class="fl">0.047</span>, <span class="fl">0.1</span>
    <span class="op">)</span>, 
    nrow <span class="op">=</span> <span class="fl">3</span>,
    ncol <span class="op">=</span> <span class="fl">3</span>,
    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>,
  qmatrix <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span>
    <span class="fl">0.2</span>, <span class="fl">0.7</span>, <span class="fl">0.4</span>,
    <span class="fl">0.4</span>, <span class="fl">0.2</span>, <span class="fl">0.7</span>,
    <span class="fl">0.7</span>, <span class="fl">0.4</span>, <span class="fl">0.2</span>
    <span class="op">)</span>, 
    nrow <span class="op">=</span> <span class="fl">3</span>,
    ncol <span class="op">=</span> <span class="fl">3</span>,
    byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>,
  essential <span class="op">=</span> <span class="cn">TRUE</span>,  
  chemo <span class="op">=</span> <span class="cn">FALSE</span>,
  mort <span class="op">=</span> <span class="fl">0.015</span>, 
  resspeed <span class="op">=</span> <span class="fl">10</span>,
  resconc <span class="op">=</span> <span class="fl">0.5</span>,
  totaltime <span class="op">=</span> <span class="fl">2000</span>
<span class="op">)</span>
<span class="co">#&gt; Model properties </span>
<span class="co">#&gt;  * 3 consumer(s) and 3 resource(s)</span>
<span class="co">#&gt;  * Consumers have type 1 functional responses</span>
<span class="co">#&gt;  * Resources are essential</span>
<span class="co">#&gt;  * Resources grow logistically</span>
<span class="co">#&gt;  * Mortality is continuous</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Simulation properties </span>
<span class="co">#&gt;  * Simulation time: 2000 time steps</span>
<span class="co">#&gt;  * Init state: consumer(s) = [10, 10, 10], resource(s) = [0.5, 0.5, 0.5]</span></code></pre></div>
<div class="sourceCode" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_funcresp.html">plot_funcresp</a></span><span class="op">(</span><span class="va">pars</span>, maxx <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html">max</a></span><span class="op">(</span><span class="va">pars</span><span class="op">$</span><span class="va">resconc</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-39-1.png" width="576"></p>
<div class="sourceCode" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">m1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_rescomp.html">sim_rescomp</a></span><span class="op">(</span><span class="va">pars</span><span class="op">)</span></code></pre></div>
<div class="sourceCode" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_rescomp.html">plot_rescomp</a></span><span class="op">(</span><span class="va">m1</span><span class="op">)</span></code></pre></div>
<p><img src="rescomp_files/figure-html/unnamed-chunk-41-1.png" width="576"></p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Andrew Letten.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
